<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-- 
    ajax는 비동기적 웹 서비스를 개발할 때 사용하는 기법이다. 요즘엔 json을 많이 사용
    페이지 이동없이 서버에 요청을 보내고 응답을 받는 기술이다.    
    ajax 요청은 jQuery나 axios 같은 라이브러리 사용
-->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    const formData = new FormData();
    formData.append('name','jeongwoon.site'); //append는 키와 값 형식의 데이터 저장
    formData.append('item','apple');
    formData.append('item','orange');
    formData.has('item'); // true
    formData.has('money'); // false
    formData.get('item'); // apple
    formData.getAll('item'); // ['apple','orange']
    formData.append('test',['hi','jeongwoon']); //배열 저장
    formData.get('test'); // hi, jeongwoon  //배열은 하나만 가져오지 않음
    formData.delete('test');
    formData.get('test'); // null
    formData.set('item','melon'); // set은 현재 키를 수정하는 메서드
    formData.getAll('item') // melon

    // async POST 방식
    (async ()=>{
        try{
            const formData = new FormData();
            formData.append('name','jeongwoon');
            formData.append('birth',1994);
            const result = await axios.post('https://jeongwoon.site/api/post/formdata',formData
            );
            console.log(result);
            console.log(result.data);//{}
        }catch(error){
            console.error(error);
        }
    })();

    // encodeURIComponent, decodeURIComponent
    // ajax 요청을 보낼 때, 한글 주소를 이해 못할 경우 사용. encodeURIComponent
    // 받는 쪽은 decodeURIComponent 사용
    (async ()=>{
        try{
            const result = await axios.post(`https://jeongwoon.site/api/search/${encodeURIComponent('노드')}`);
            console.log(result);
            console.log(result.data);//{}
        }catch(error){
            console.error(error);
        }
    })();

</script>
<body>
    
</body>
</html>